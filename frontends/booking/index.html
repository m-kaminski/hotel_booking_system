<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>The Overlook Hotel!</title>
    <!-- load nihilo theme for dojo-->
    <link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/dojo/1.10.4/dijit/themes/nihilo/nihilo.css">
    <script>dojoConfig = { parseOnLoad: true }</script>
    <link rel="stylesheet" href="booking.css" />
</head>

<body class="nihilo" onload="checkLogin();">
    <!-- load Dojo -->
    <script src="//ajax.googleapis.com/ajax/libs/dojo/1.10.4/dojo/dojo.js" data-dojo-config="async: true"></script>

    <script>
        require(["dijit/Dialog", "dijit/form/TextBox", "dijit/form/Button",
            "dojo/parser", "dijit/form/Form", "dijit/form/DateTextBox", "dijit/form/ValidationTextBox"]);
        require(["dojo/_base/xhr", "dojo/domReady!", "dojo/dom"]);

    </script>
    <script src="booking.js"></script>
    <script src="onbooking.js"></script>
    <script src="login.js"></script>

    <div id="mainNavigationContainer">
        <div id="loggedOut">
            <form data-dojo-type="dijit/form/Form" data-dojo-id="loginForm">
                <script type="dojo/on" data-dojo-event="submit" data-dojo-args="e">
                e.preventDefault(); // prevent the default submit
                return login();
            </script>
                <table>
                    <tr>
                        <td class="formtextContainer"><label for="email">Email:</label></td>
                        <td class="formfieldContainer"><input type="text" name="checkin" id="email" required="true" />
                        </td>

                        <td class="formtextContainer"><label for="password">Password:</label></td>
                        <td class="formfieldContainer"><input type="password" name="checkout" id="password"
                                required="true" /></td>
                        <td>
                            <button data-dojo-type="dijit/form/Button" type="submit">Log In</button>
                        </td>
                    </tr>
                </table>
            </form>
        </div>
        <div id="loggedIn">
            <div id="greeting">
                Greetings, <strong id="usernameGreeting"> UserName </strong>
                <button data-dojo-type="dijit/form/Button" onclick="logout();">Logout</button>
            </div>
            <div id="navigationOptions">
                <button data-dojo-type="dijit/form/Button" onclick="myBookings();">Past Bookings</button>
                <button data-dojo-type="dijit/form/Button" onclick="myBookings();">Upcoming Bookings</button>
            </div>
        </div>
    </div>

    <h1 id="mainheader">Welcome to </h1>


    <div id="bookingFormContainer">
        <form data-dojo-type="dijit/form/Form" data-dojo-id="bookingSearchForm">
            <script type="dojo/on" data-dojo-event="submit" data-dojo-args="e">
                e.preventDefault(); // prevent the default submit
                return submitBookingSearch();
            </script>
            <table>
                <tr>
                    <td class="formtextContainer"><label for="checkin">Check-in:</label></td>
                    <td class="formfieldContainer"><input type="text" name="checkin" id="checkin"
                            data-dojo-type="dijit/form/DateTextBox" required="true" /></td>

                    <td class="formtextContainer"><label for="checkout">Check-out:</label></td>
                    <td class="formfieldContainer"><input type="text" name="checkout" id="checkout"
                            data-dojo-type="dijit/form/DateTextBox" required="true" /></td>
                    <td>
                        <button data-dojo-type="dijit/form/Button" type="submit">Book a room</button>
                    </td>
                </tr>
            </table>
        </form>
    </div>
    <div id="mainContentContainer">
        <div id="mainContent">
            The Overlook Hotel provides excellent acomodation in Colorado Rockies.
        </div>

        <div id="footer">
            &copy; M.K., experimental software
        </div>
    </div>

</body>

</html>